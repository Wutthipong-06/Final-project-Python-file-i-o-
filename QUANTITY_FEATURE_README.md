# ฟีเจอร์จำนวนหนังสือ (Book Quantity Feature)

## ภาพรวม
ระบบจัดการห้องสมุดได้รับการปรับปรุงให้รองรับการระบุจำนวนหนังสือที่เพิ่มเข้าไปได้ และแสดงจำนวนหนังสือในทุกส่วนที่เกี่ยวข้อง

## ฟีเจอร์ใหม่

### 1. การเพิ่มหนังสือพร้อมจำนวน
- เมื่อเพิ่มหนังสือใหม่ ระบบจะถามจำนวนหนังสือที่ต้องการเพิ่ม
- สามารถระบุจำนวนได้ตั้งแต่ 1-9999 เล่ม
- ระบบจะแสดงจำนวนหนังสือที่เพิ่มเรียบร้อย

### 2. การแสดงผลจำนวนหนังสือ
- **ดูข้อมูลหนังสือทั้งหมด**: แสดงจำนวนหนังสือรวมและจำนวนรายการ
- **ดูหนังสือแบบกรอง**: แสดงจำนวนหนังสือรวมที่ตรงกับเงื่อนไข
- **ดูหนังสือเล่มเดียว**: แสดงจำนวนหนังสือของเล่มนั้นๆ

### 3. สถิติโดยสรุป
- แสดงจำนวนรายการหนังสือทั้งหมด
- แสดงจำนวนหนังสือรวม
- แสดงจำนวนหนังสือว่างและถูกยืมแยกตามจำนวน

### 4. การสร้างรายงาน
- รายงานจะแสดงจำนวนรายการและจำนวนหนังสือรวม
- แสดงสถิติแยกตามสถานะหนังสือ

## ตัวอย่างการใช้งาน

### การเพิ่มหนังสือ
```
=== เพิ่มหนังสือ ===
ชื่อหนังสือ: Python Programming
ผู้แต่ง: John Doe
ISBN: 978-1234567890
ปีที่พิมพ์: 2023
จำนวนหนังสือ (เล่ม): 5

เพิ่มหนังสือเรียบร้อย ID: 0001
ชื่อหนังสือ: Python Programming
จำนวน: 5 เล่ม
```

### การดูข้อมูลหนังสือ
```
มีหนังสือทั้งหมด 3 รายการ
จำนวนหนังสือรวม: 10 เล่ม
--------------------------------------------------------------------------------
ID     | ชื่อหนังสือ                 | ผู้แต่ง          | จำนวน   | สถานะ
--------------------------------------------------------------------------------
ID: 0001 | Python Programming      | John Doe       | 5 เล่ม | ว่าง
ID: 0002 | Data Science           | Jane Smith     | 3 เล่ม | ว่าง
ID: 0003 | Web Development        | Bob Johnson    | 2 เล่ม | ว่าง
```

### สถิติโดยสรุป
```
สถิติหนังสือ:
  - รายการหนังสือทั้งหมด: 3 รายการ
  - จำนวนหนังสือรวม: 10 เล่ม
  - หนังสือว่าง: 3 รายการ (10 เล่ม)
  - หนังสือถูกยืม: 0 รายการ (0 เล่ม)
  - หนังสือที่ถูกลบ: 0 รายการ
```

## การอัปเดตโครงสร้างข้อมูล

### โครงสร้างเดิม
```
book_format = '4s100s50s20s4s1s1s'
```

### โครงสร้างใหม่
```
book_format = '4s100s50s20s4s4s1s1s'
```

**การเปลี่ยนแปลง:**
- เพิ่มฟิลด์ `4s` สำหรับจำนวนหนังสือ (quantity)
- ฟิลด์ status และ deleted flag เลื่อนไปตำแหน่งใหม่

## การรองรับข้อมูลเก่า

ระบบได้รับการออกแบบให้รองรับข้อมูลเก่าที่ไม่มีฟิลด์ quantity:
- หากไม่สามารถอ่านจำนวนหนังสือได้ ระบบจะใช้ค่า default เป็น 1 เล่ม
- การแสดงผลจะแสดง "(1 เล่ม)" สำหรับข้อมูลเก่า

## การทดสอบ

รันไฟล์ทดสอบเพื่อดูฟีเจอร์ใหม่:
```bash
python test_quantity_feature.py
```

## ข้อดีของฟีเจอร์ใหม่

1. **ความยืดหยุ่น**: สามารถเพิ่มหนังสือหลายเล่มพร้อมกันได้
2. **ข้อมูลครบถ้วน**: แสดงจำนวนหนังสือในทุกส่วนที่เกี่ยวข้อง
3. **สถิติแม่นยำ**: สถิติและรายงานแสดงข้อมูลที่ถูกต้อง
4. **รองรับข้อมูลเก่า**: ทำงานกับข้อมูลเดิมได้โดยไม่ต้องแปลง
5. **ใช้งานง่าย**: ฟีเจอร์ใหม่ผสานเข้ากับระบบเดิมได้อย่างเป็นธรรมชาติ

## การใช้งาน

1. รันระบบ: `python library_system.py`
2. เลือกเมนู "1. จัดการหนังสือ"
3. เลือก "1. เพิ่มหนังสือ (Add)"
4. กรอกข้อมูลหนังสือและจำนวนที่ต้องการ
5. ดูผลลัพธ์ในเมนู "2. ดูข้อมูลหนังสือ (View)"
6. ตรวจสอบสถิติในเมนู "4. ดูสถิติโดยสรุป"
7. สร้างรายงานในเมนู "5. สร้างรายงาน"
